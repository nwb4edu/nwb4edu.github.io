
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Working with NWB in Python &#8212; Teaching &amp; Learning with NWB Datasets</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Lesson_1/02-Working_with_NWB_format_in_Python';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Interactive NWB Data Exploration" href="03-Interactive_NWB_Data_Exploration.html" />
    <link rel="prev" title="Obtaining Datasets with DANDI" href="01-Obtaining_Datasets_with_DANDI.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../landing_page.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/nwb_learning.png" class="logo__image only-light" alt="Teaching & Learning with NWB Datasets - Home"/>
    <script>document.write(`<img src="../_static/nwb_learning.png" class="logo__image only-dark" alt="Teaching & Learning with NWB Datasets - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../landing_page.html">
                    Teaching and Learning with NWB Datasets
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">INTRODUCTION</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../Introduction/Introduction.html">Introduction</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/Using_This_Book.html">How to Use this Book</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/Setup.html">Set up Coding Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/For_Educators.html">For Educators</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Data_Science_In_Python/Introduction.html">Data Science in Python</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Data_Science_In_Python/NumPy.html">NumPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Data_Science_In_Python/Pandas.html">Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Data_Science_In_Python/Matplotlib.html">Matplotlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Data_Science_In_Python/SciPy.html">SciPy</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">PYNWB</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="00-Introduction.html">Lesson #1: The Structure of NWB Datasets</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01-Obtaining_Datasets_with_DANDI.html">Obtaining Datasets with DANDI</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Working with NWB in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="03-Interactive_NWB_Data_Exploration.html">Interactive NWB Data Exploration</a></li>
<li class="toctree-l2"><a class="reference internal" href="Lesson1_ProblemSet.html">Lesson #1 Problem Set</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Lesson_2/00-LargeEphysIntroduction.html">Lesson #2: Analyzing Extracellular Recordings</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lesson_2/01-SpikeSorting.html">Spike Sorting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lesson_2/02-Visualizing_Recordings.html">Visualizing Large Scale Recordings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lesson_2/Lesson_2_ProblemSet.html">Lesson #2 Problem Set</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">ALLENSDK</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../Lesson_3/00-SingleCellIntroduction.html">Lesson #3: Single-Cell Electrophysiology</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lesson_3/01-Obtaining_Data_For_Single_Cells.html">Obtaining Data for Single Cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lesson_3/02-Analyzing_Computed_Features.html">Analyzing Computed Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lesson_3/Lesson_3_ProblemSet.html">Lesson 3 Problem Set</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Lesson_4/00-2pIntroduction.html">Lesson #4: Two Photon Imaging</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lesson_4/01-Retrieving_Brain_Observatory_Data.html">Retrieving Calcium Imaging Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lesson_4/02-Analyzing_Two_Photon_Data.html">Analyzing Two Photon Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lesson_4/03-Correlations_in_Two_Photon_Data.html">Correlations in Two Photon Data</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">GREATEST HITS</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../Lesson_5/00-GreatestHits.html">Greatest Hits in Physiology</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lesson_5/01-PlaceFields.html">How does the brain encode space?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lesson_5/02-RotationalDynamics.html">How do populations of neurons encode movement?</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://hub.dandiarchive.org/hub/user-redirect/git-pull?repo=https%3A//github.com/nwb4edu/nwb4edu.github.io&urlpath=tree/nwb4edu.github.io/Lesson_1/02-Working_with_NWB_format_in_Python.ipynb&branch=master" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on JupyterHub"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="JupyterHub logo" src="../_static/images/logo_jupyterhub.svg">
  </span>
<span class="btn__text-container">JupyterHub</span>
</a>
</li>
      
      
      
      
      <li><a href="https://colab.research.google.com/github/nwb4edu/nwb4edu.github.io/blob/master/Lesson_1/02-Working_with_NWB_format_in_Python.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/Lesson_1/02-Working_with_NWB_format_in_Python.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Working with NWB in Python</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-setup">Step 1. Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-read-the-nwb-file">Step 2. Read the NWB file</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-access-information-within-the-nwb-file-hierarchy">Step 3. Access Information within the NWB File Hierarchy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#experiment-metadata">Experiment Metadata</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#acquisition">Acquisition</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#intervals">Intervals</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#units">Units</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-resources">Additional Resources</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="working-with-nwb-in-python">
<h1>Working with NWB in Python<a class="headerlink" href="#working-with-nwb-in-python" title="Link to this heading">#</a></h1>
<p>On the previous page, we demonstrated how to obtain a dataset with DANDI. Now that you have a dataset downloaded, let’s take a closer look at what it contains.</p>
<p>Working with our NWB file in Python requires <strong><a class="reference external" href="https://pynwb.readthedocs.io/en/stable/index.html">PyNWB</a></strong>, a package specifically designed to work with NWB files.</p>
<p>Below, we’ll use the <code class="docutils literal notranslate"><span class="pre">NWBHDF5IO</span></code> class from this package, which will allow us to easily read NWB files.</p>
<p><mark><strong>Note</strong>: Before running this notebook, please ensure that you have 1) set up your coding environment (<a class="reference external" href="https://nwb4edu.github.io/Introduction/Using_This_Book.html">How to Use this Book</a>) and 2) completed the previous section to obtain the dataset we’ll be interacting with below.</p>
<section id="step-1-setup">
<h2>Step 1. Setup<a class="headerlink" href="#step-1-setup" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import modules from the PyNWB package</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pynwb</span><span class="w"> </span><span class="kn">import</span> <span class="n">NWBHDF5IO</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-2-read-the-nwb-file">
<h2>Step 2. Read the NWB file<a class="headerlink" href="#step-2-read-the-nwb-file" title="Link to this heading">#</a></h2>
<p>We can access the data in our NWB file in two steps:</p>
<ol class="arabic simple">
<li><p><strong>Assign our file as an NWBHDF5IO object</strong>: We will use the <a class="reference external" href="https://pynwb.readthedocs.io/en/stable/pynwb.html#pynwb.NWBHDF5IO"><code class="docutils literal notranslate"><span class="pre">NWBHDF5IO</span></code> class</a> to create our <code class="docutils literal notranslate"><span class="pre">NWBHDF5IO</span></code> object and map our file to HDF5 format.</p></li>
<li><p><strong>Read our file</strong> using the <code class="docutils literal notranslate"><span class="pre">read()</span></code> method.</p></li>
</ol>
<blockquote>
<div><p>For more information on how to read NWB files, please visit the <a href = 'https://pynwb.readthedocs.io/en/latest/tutorials/general/plot_file.html#reading-an-nwb-file'> Reading an NWB file</a> section from the NWB Basics Tutorial.</p>
</div></blockquote>
<p><mark><strong>Note</strong>: Each dataset may contain multiple NWB files for different subjects and sessions for a given experiment. Make sure you specify the exact file path to the single NWB file you wish to read. Below, we’ll give the filename for one .nwb file within the folder that you downloaded in the last chapter.</mark></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># set the filename</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;000006/sub-anm369962/sub-anm369962_ses-20170310.nwb&#39;</span>

<span class="c1"># assign file as an NWBHDF5IO object</span>
<span class="n">io</span> <span class="o">=</span> <span class="n">NWBHDF5IO</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>

<span class="c1"># read the file</span>
<span class="n">nwb_file</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">nwb_file</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
        <style>
            .container-fields {
                font-family: "Open Sans", Arial, sans-serif;
            }
            .container-fields .field-value {
                color: #00788E;
            }
            .container-fields details > summary {
                cursor: pointer;
                display: list-item;
            }
            .container-fields details > summary:hover {
                color: #0A6EAA;
            }
        </style>
        
        <script>
            function copyToClipboard(text) {
                navigator.clipboard.writeText(text).then(function() {
                    console.log('Copied to clipboard: ' + text);
                }, function(err) {
                    console.error('Could not copy text: ', err);
                });
            }

            document.addEventListener('DOMContentLoaded', function() {
                let fieldKeys = document.querySelectorAll('.container-fields .field-key');
                fieldKeys.forEach(function(fieldKey) {
                    fieldKey.addEventListener('click', function() {
                        let accessCode = fieldKey.getAttribute('title').replace('Access code: ', '');
                        copyToClipboard(accessCode);
                    });
                });
            });
        </script>
        <div class='container-wrap'><div class='container-header'><div class='xr-obj-type'><h3>root (NWBFile)</h3></div></div><div style="margin-left: 0px;" class="container-fields"><span class="field-key" title=".session_description">session_description: </span><span class="field-value"></span></div><div style="margin-left: 0px;" class="container-fields"><span class="field-key" title=".identifier">identifier: </span><span class="field-value">anm369962_2017-03-10_1</span></div><details><summary style="display: list-item; margin-left: 0px;" class="container-fields field-key" title=".session_start_time"><b>session_start_time</b></summary><span class="field-key">2017-03-10 00:00:00-06:00</span></details><details><summary style="display: list-item; margin-left: 0px;" class="container-fields field-key" title=".timestamps_reference_time"><b>timestamps_reference_time</b></summary><span class="field-key">2017-03-10 00:00:00-06:00</span></details><details><summary style="display: list-item; margin-left: 0px;" class="container-fields field-key" title=".file_create_date"><b>file_create_date</b></summary><details><summary style="display: list-item; margin-left: 20px;" class="container-fields field-key" title=".file_create_date[0]"><b>0</b></summary><span class="field-key">2019-10-07 17:40:41.133533-05:00</span></details></details><details><summary style="display: list-item; margin-left: 0px;" class="container-fields field-key" title=".experimenter"><b>experimenter</b></summary><span class="field-key">('Mike Economo',)</span></details><details><summary style="display: list-item; margin-left: 0px;" class="container-fields field-key" title=".related_publications"><b>related_publications</b></summary><span class="field-key">('doi:10.1038/s41586-018-0642-9',)</span></details><details><summary style="display: list-item; margin-left: 0px;" class="container-fields field-key" title=".acquisition"><b>acquisition</b></summary><details><summary style="display: list-item; margin-left: 20px;" class="container-fields field-key" title=".acquisition['lick_times']"><b>lick_times</b></summary><details><summary style="display: list-item; margin-left: 40px;" class="container-fields field-key" title=".acquisition['lick_times'].time_series"><b>time_series</b></summary><details><summary style="display: list-item; margin-left: 60px;" class="container-fields field-key" title=".acquisition['lick_times'].time_series['lick_left_times']"><b>lick_left_times</b></summary><div style="margin-left: 80px;" class="container-fields"><span class="field-key" title=".acquisition['lick_times'].time_series['lick_left_times'].resolution">resolution: </span><span class="field-value">0.0</span></div><div style="margin-left: 80px;" class="container-fields"><span class="field-key" title=".acquisition['lick_times'].time_series['lick_left_times'].comments">comments: </span><span class="field-value">no comments</span></div><div style="margin-left: 80px;" class="container-fields"><span class="field-key" title=".acquisition['lick_times'].time_series['lick_left_times'].description">description: </span><span class="field-value">no description</span></div><div style="margin-left: 80px;" class="container-fields"><span class="field-key" title=".acquisition['lick_times'].time_series['lick_left_times'].conversion">conversion: </span><span class="field-value">1.0</span></div><div style="margin-left: 80px;" class="container-fields"><span class="field-key" title=".acquisition['lick_times'].time_series['lick_left_times'].offset">offset: </span><span class="field-value">0.0</span></div><div style="margin-left: 80px;" class="container-fields"><span class="field-key" title=".acquisition['lick_times'].time_series['lick_left_times'].unit">unit: </span><span class="field-value">a.u.</span></div><details><summary style="display: list-item; margin-left: 80px;" class="container-fields field-key" title=".acquisition['lick_times'].time_series['lick_left_times'].data"><b>data</b></summary><div style="margin-left: 100px;" class="container-fields">HDF5 dataset<br><table class="data-info"><tbody><tr><th style="text-align: left">Data type</th><td style="text-align: left">float64</td></tr><tr><th style="text-align: left">Shape</th><td style="text-align: left">(1803,)</td></tr><tr><th style="text-align: left">Array size</th><td style="text-align: left">14.09 KiB</td></tr><tr><th style="text-align: left">Chunk shape</th><td style="text-align: left">None</td></tr><tr><th style="text-align: left">Compression</th><td style="text-align: left">None</td></tr><tr><th style="text-align: left">Compression opts</th><td style="text-align: left">None</td></tr><tr><th style="text-align: left">Compression ratio</th><td style="text-align: left">1.0</td></tr></tbody></table></div></details><details><summary style="display: list-item; margin-left: 80px;" class="container-fields field-key" title=".acquisition['lick_times'].time_series['lick_left_times'].timestamps"><b>timestamps</b></summary><div style="margin-left: 100px;" class="container-fields">HDF5 dataset<br><table class="data-info"><tbody><tr><th style="text-align: left">Data type</th><td style="text-align: left">float64</td></tr><tr><th style="text-align: left">Shape</th><td style="text-align: left">(1803,)</td></tr><tr><th style="text-align: left">Array size</th><td style="text-align: left">14.09 KiB</td></tr><tr><th style="text-align: left">Chunk shape</th><td style="text-align: left">None</td></tr><tr><th style="text-align: left">Compression</th><td style="text-align: left">None</td></tr><tr><th style="text-align: left">Compression opts</th><td style="text-align: left">None</td></tr><tr><th style="text-align: left">Compression ratio</th><td style="text-align: left">1.0</td></tr></tbody></table></div></details><div style="margin-left: 80px;" class="container-fields"><span class="field-key" title=".acquisition['lick_times'].time_series['lick_left_times'].timestamps_unit">timestamps_unit: </span><span class="field-value">seconds</span></div><div style="margin-left: 80px;" class="container-fields"><span class="field-key" title=".acquisition['lick_times'].time_series['lick_left_times'].interval">interval: </span><span class="field-value">1</span></div></details><details><summary style="display: list-item; margin-left: 60px;" class="container-fields field-key" title=".acquisition['lick_times'].time_series['lick_right_times']"><b>lick_right_times</b></summary><div style="margin-left: 80px;" class="container-fields"><span class="field-key" title=".acquisition['lick_times'].time_series['lick_right_times'].resolution">resolution: </span><span class="field-value">0.0</span></div><div style="margin-left: 80px;" class="container-fields"><span class="field-key" title=".acquisition['lick_times'].time_series['lick_right_times'].comments">comments: </span><span class="field-value">no comments</span></div><div style="margin-left: 80px;" class="container-fields"><span class="field-key" title=".acquisition['lick_times'].time_series['lick_right_times'].description">description: </span><span class="field-value">no description</span></div><div style="margin-left: 80px;" class="container-fields"><span class="field-key" title=".acquisition['lick_times'].time_series['lick_right_times'].conversion">conversion: </span><span class="field-value">1.0</span></div><div style="margin-left: 80px;" class="container-fields"><span class="field-key" title=".acquisition['lick_times'].time_series['lick_right_times'].offset">offset: </span><span class="field-value">0.0</span></div><div style="margin-left: 80px;" class="container-fields"><span class="field-key" title=".acquisition['lick_times'].time_series['lick_right_times'].unit">unit: </span><span class="field-value">a.u.</span></div><details><summary style="display: list-item; margin-left: 80px;" class="container-fields field-key" title=".acquisition['lick_times'].time_series['lick_right_times'].data"><b>data</b></summary><div style="margin-left: 100px;" class="container-fields">HDF5 dataset<br><table class="data-info"><tbody><tr><th style="text-align: left">Data type</th><td style="text-align: left">float64</td></tr><tr><th style="text-align: left">Shape</th><td style="text-align: left">(887,)</td></tr><tr><th style="text-align: left">Array size</th><td style="text-align: left">6.93 KiB</td></tr><tr><th style="text-align: left">Chunk shape</th><td style="text-align: left">None</td></tr><tr><th style="text-align: left">Compression</th><td style="text-align: left">None</td></tr><tr><th style="text-align: left">Compression opts</th><td style="text-align: left">None</td></tr><tr><th style="text-align: left">Compression ratio</th><td style="text-align: left">1.0</td></tr></tbody></table></div></details><details><summary style="display: list-item; margin-left: 80px;" class="container-fields field-key" title=".acquisition['lick_times'].time_series['lick_right_times'].timestamps"><b>timestamps</b></summary><div style="margin-left: 100px;" class="container-fields">HDF5 dataset<br><table class="data-info"><tbody><tr><th style="text-align: left">Data type</th><td style="text-align: left">float64</td></tr><tr><th style="text-align: left">Shape</th><td style="text-align: left">(887,)</td></tr><tr><th style="text-align: left">Array size</th><td style="text-align: left">6.93 KiB</td></tr><tr><th style="text-align: left">Chunk shape</th><td style="text-align: left">None</td></tr><tr><th style="text-align: left">Compression</th><td style="text-align: left">None</td></tr><tr><th style="text-align: left">Compression opts</th><td style="text-align: left">None</td></tr><tr><th style="text-align: left">Compression ratio</th><td style="text-align: left">1.0</td></tr></tbody></table></div></details><div style="margin-left: 80px;" class="container-fields"><span class="field-key" title=".acquisition['lick_times'].time_series['lick_right_times'].timestamps_unit">timestamps_unit: </span><span class="field-value">seconds</span></div><div style="margin-left: 80px;" class="container-fields"><span class="field-key" title=".acquisition['lick_times'].time_series['lick_right_times'].interval">interval: </span><span class="field-value">1</span></div></details></details></details></details><details><summary style="display: list-item; margin-left: 0px;" class="container-fields field-key" title=".keywords"><b>keywords</b></summary><div style="margin-left: 20px;" class="container-fields">HDF5 dataset<br><table class="data-info"><tbody><tr><th style="text-align: left">Data type</th><td style="text-align: left">object</td></tr><tr><th style="text-align: left">Shape</th><td style="text-align: left">(4,)</td></tr><tr><th style="text-align: left">Array size</th><td style="text-align: left">32.00 bytes</td></tr><tr><th style="text-align: left">Chunk shape</th><td style="text-align: left">None</td></tr><tr><th style="text-align: left">Compression</th><td style="text-align: left">None</td></tr><tr><th style="text-align: left">Compression opts</th><td style="text-align: left">None</td></tr><tr><th style="text-align: left">Compression ratio</th><td style="text-align: left">0.5</td></tr></tbody></table><br>[b'motor planning' b'premotor cortex' b'preparatory activity'
 b'extracellular electrophysiology']</div></details><details><summary style="display: list-item; margin-left: 0px;" class="container-fields field-key" title=".electrodes"><b>electrodes</b></summary><div style="margin-left: 20px;" class="container-fields"><span class="field-key" title=".electrodes">description: </span><span class="field-value">metadata about extracellular electrodes</span></div><details><summary style="display: list-item; margin-left: 20px;" class="container-fields field-key" title=".electrodes"><b>table</b></summary><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>z</th>
      <th>imp</th>
      <th>location</th>
      <th>filtering</th>
      <th>group</th>
      <th>group_name</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-1.0</td>
      <td>brain_region: ALM; brain_subregion: N/A; cortical_layer: 5; hemisphere: right; brain_location_full_name: N/A</td>
      <td>Bandpass filtered 300-6K Hz</td>
      <td>H-129: 64 pynwb.ecephys.ElectrodeGroup at 0x4552101904\nFields:\n  description: N/A\n  device: H-129 pynwb.device.Device at 0x4552101568\n  location: brain_region: ALM; brain_subregion: N/A; cortical_layer: 5; hemisphere: right; brain_location_full_name: N/A\n</td>
      <td>H-129: 64</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-1.0</td>
      <td>brain_region: ALM; brain_subregion: N/A; cortical_layer: 5; hemisphere: right; brain_location_full_name: N/A</td>
      <td>Bandpass filtered 300-6K Hz</td>
      <td>H-129: 64 pynwb.ecephys.ElectrodeGroup at 0x4552101904\nFields:\n  description: N/A\n  device: H-129 pynwb.device.Device at 0x4552101568\n  location: brain_region: ALM; brain_subregion: N/A; cortical_layer: 5; hemisphere: right; brain_location_full_name: N/A\n</td>
      <td>H-129: 64</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-1.0</td>
      <td>brain_region: ALM; brain_subregion: N/A; cortical_layer: 5; hemisphere: right; brain_location_full_name: N/A</td>
      <td>Bandpass filtered 300-6K Hz</td>
      <td>H-129: 64 pynwb.ecephys.ElectrodeGroup at 0x4552101904\nFields:\n  description: N/A\n  device: H-129 pynwb.device.Device at 0x4552101568\n  location: brain_region: ALM; brain_subregion: N/A; cortical_layer: 5; hemisphere: right; brain_location_full_name: N/A\n</td>
      <td>H-129: 64</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-1.0</td>
      <td>brain_region: ALM; brain_subregion: N/A; cortical_layer: 5; hemisphere: right; brain_location_full_name: N/A</td>
      <td>Bandpass filtered 300-6K Hz</td>
      <td>H-129: 64 pynwb.ecephys.ElectrodeGroup at 0x4552101904\nFields:\n  description: N/A\n  device: H-129 pynwb.device.Device at 0x4552101568\n  location: brain_region: ALM; brain_subregion: N/A; cortical_layer: 5; hemisphere: right; brain_location_full_name: N/A\n</td>
      <td>H-129: 64</td>
    </tr>
  </tbody>
</table><p>... and 60 more rows.</p></details></details><details><summary style="display: list-item; margin-left: 0px;" class="container-fields field-key" title=".electrode_groups"><b>electrode_groups</b></summary><details><summary style="display: list-item; margin-left: 20px;" class="container-fields field-key" title=".electrode_groups['H-129: 64']"><b>H-129: 64</b></summary><div style="margin-left: 40px;" class="container-fields"><span class="field-key" title=".electrode_groups['H-129: 64'].description">description: </span><span class="field-value">N/A</span></div><div style="margin-left: 40px;" class="container-fields"><span class="field-key" title=".electrode_groups['H-129: 64'].location">location: </span><span class="field-value">brain_region: ALM; brain_subregion: N/A; cortical_layer: 5; hemisphere: right; brain_location_full_name: N/A</span></div><details><summary style="display: list-item; margin-left: 40px;" class="container-fields field-key" title=".electrode_groups['H-129: 64'].device"><b>device</b></summary></details></details></details><details><summary style="display: list-item; margin-left: 0px;" class="container-fields field-key" title=".devices"><b>devices</b></summary><details><summary style="display: list-item; margin-left: 20px;" class="container-fields field-key" title=".devices['H-129']"><b>H-129</b></summary></details></details><details><summary style="display: list-item; margin-left: 0px;" class="container-fields field-key" title=".intervals"><b>intervals</b></summary><details><summary style="display: list-item; margin-left: 20px;" class="container-fields field-key" title=".intervals['trials']"><b>trials</b></summary><div style="margin-left: 40px;" class="container-fields"><span class="field-key" title=".intervals['trials']">description: </span><span class="field-value">experimental trials</span></div><details><summary style="display: list-item; margin-left: 40px;" class="container-fields field-key" title=".intervals['trials']"><b>table</b></summary><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>start_time</th>
      <th>stop_time</th>
      <th>type</th>
      <th>response</th>
      <th>stim_present</th>
      <th>is_good</th>
      <th>cue_start_time</th>
      <th>pole_in_time</th>
      <th>pole_out_time</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>323.171</td>
      <td>NaN</td>
      <td>lick right</td>
      <td>early lick</td>
      <td>0</td>
      <td>1</td>
      <td>7.49698</td>
      <td>3.93949</td>
      <td>5.12748</td>
    </tr>
    <tr>
      <th>2</th>
      <td>329.570</td>
      <td>NaN</td>
      <td>lick right</td>
      <td>early lick</td>
      <td>0</td>
      <td>1</td>
      <td>11.81280</td>
      <td>4.94181</td>
      <td>5.94198</td>
    </tr>
    <tr>
      <th>3</th>
      <td>335.971</td>
      <td>NaN</td>
      <td>lick right</td>
      <td>incorrect</td>
      <td>0</td>
      <td>1</td>
      <td>6.62964</td>
      <td>4.12915</td>
      <td>5.12931</td>
    </tr>
    <tr>
      <th>4</th>
      <td>342.371</td>
      <td>NaN</td>
      <td>lick right</td>
      <td>incorrect</td>
      <td>0</td>
      <td>1</td>
      <td>6.41964</td>
      <td>3.91915</td>
      <td>4.91931</td>
    </tr>
  </tbody>
</table><p>... and 271 more rows.</p></details></details></details><details><summary style="display: list-item; margin-left: 0px;" class="container-fields field-key" title=".subject"><b>subject</b></summary><div style="margin-left: 20px;" class="container-fields"><span class="field-key" title=".subject.genotype">genotype: </span><span class="field-value"></span></div><div style="margin-left: 20px;" class="container-fields"><span class="field-key" title=".subject.sex">sex: </span><span class="field-value">U</span></div><div style="margin-left: 20px;" class="container-fields"><span class="field-key" title=".subject.species">species: </span><span class="field-value">Mus musculus</span></div><div style="margin-left: 20px;" class="container-fields"><span class="field-key" title=".subject.subject_id">subject_id: </span><span class="field-value">anm369962</span></div></details><details><summary style="display: list-item; margin-left: 0px;" class="container-fields field-key" title=".trials"><b>trials</b></summary><div style="margin-left: 20px;" class="container-fields"><span class="field-key" title=".trials">description: </span><span class="field-value">experimental trials</span></div><details><summary style="display: list-item; margin-left: 20px;" class="container-fields field-key" title=".trials"><b>table</b></summary><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>start_time</th>
      <th>stop_time</th>
      <th>type</th>
      <th>response</th>
      <th>stim_present</th>
      <th>is_good</th>
      <th>cue_start_time</th>
      <th>pole_in_time</th>
      <th>pole_out_time</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>323.171</td>
      <td>NaN</td>
      <td>lick right</td>
      <td>early lick</td>
      <td>0</td>
      <td>1</td>
      <td>7.49698</td>
      <td>3.93949</td>
      <td>5.12748</td>
    </tr>
    <tr>
      <th>2</th>
      <td>329.570</td>
      <td>NaN</td>
      <td>lick right</td>
      <td>early lick</td>
      <td>0</td>
      <td>1</td>
      <td>11.81280</td>
      <td>4.94181</td>
      <td>5.94198</td>
    </tr>
    <tr>
      <th>3</th>
      <td>335.971</td>
      <td>NaN</td>
      <td>lick right</td>
      <td>incorrect</td>
      <td>0</td>
      <td>1</td>
      <td>6.62964</td>
      <td>4.12915</td>
      <td>5.12931</td>
    </tr>
    <tr>
      <th>4</th>
      <td>342.371</td>
      <td>NaN</td>
      <td>lick right</td>
      <td>incorrect</td>
      <td>0</td>
      <td>1</td>
      <td>6.41964</td>
      <td>3.91915</td>
      <td>4.91931</td>
    </tr>
  </tbody>
</table><p>... and 271 more rows.</p></details></details><details><summary style="display: list-item; margin-left: 0px;" class="container-fields field-key" title=".units"><b>units</b></summary><div style="margin-left: 20px;" class="container-fields"><span class="field-key" title=".units">description: </span><span class="field-value">Autogenerated by NWBFile</span></div><div style="margin-left: 20px;" class="container-fields"><span class="field-key" title=".units">waveform_unit: </span><span class="field-value">volts</span></div><details><summary style="display: list-item; margin-left: 20px;" class="container-fields field-key" title=".units"><b>table</b></summary><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>depth</th>
      <th>quality</th>
      <th>cell_type</th>
      <th>spike_times</th>
      <th>electrodes</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>665.0</td>
      <td>Poor</td>
      <td>unidentified</td>
      <td>[933.873288, 948.2774710000008, 950.5357110000007, 963.8427369999994, 970.1696180000004, 970.3827380000004, 981.1382930000003, 998.4349809999999, 1001.8557769999996, 1007.1972369999995, 1007.5521569999995, 1008.2231169999995, 1015.226128, 1018.6167669999993, 1019.1921269999993, 1019.8214069999993, 1020.8079269999994, 1020.9495269999993, 1024.1829269999994, 1024.3382469999995, 1026.9299379999995, 1028.0509779999995, 1030.2083379999997, 1030.5045379999997, 1039.287091, 1040.493411, 1044.7219299999997, 1050.6465869999995, 1052.1171469999997, 1055.5252269999996, 1058.5977610000002, 1058.645561, 1060.035961, 1060.117921, 1061.8348010000002, 1063.4142630000001, 1065.2545430000002, 1069.3364309999995, 1070.9941109999995, 1074.5048709999994, 1074.7372709999995, 1074.8200709999994, 1078.8312000000003, 1078.9709200000002, 1079.7629600000002, 1086.0654379999996, 1087.6119579999995, 1089.7035540000002, 1090.0467540000002, 1091.1513940000002, 1092.2857540000002, 1092.8204340000002, 1094.394954, 1094.910994, 1095.2850539999997, 1095.396014, 1096.5906539999999, 1096.8606139999997, 1096.9020939999998, 1097.0972539999998, 1097.5926539999998, 1097.6708939999999, 1102.9711550000002, 1104.857715, 1105.1430350000003, 1107.7467379999996, 1109.9373779999996, 1110.7912579999997, 1118.6964169999992, 1119.0359769999993, 1120.9673569999998, 1121.9214769999996, 1122.4704769999996, 1123.4714369999997, 1123.8800369999997, 1124.1477969999996, 1124.9233569999997, 1125.0126369999998, 1125.3041569999998, 1125.5543569999998, 1125.7867969999998, 1126.0659569999998, 1128.7689970000001, 1129.3829570000003, 1130.6295570000002, 1131.9833970000002, 1134.609197, 1147.1666699999996, 1148.2476299999996, 1149.1750299999997, 1150.4954299999995, 1150.7217499999995, 1151.8413499999995, 1152.5431549999996, 1153.0057949999996, 1157.5447549999997, 1158.0824349999996, 1158.3623949999997, 1159.4290339999998, 1160.3188739999998, ...]</td>
      <td>[9]</td>
    </tr>
    <tr>
      <th>2</th>
      <td>665.0</td>
      <td>Fair</td>
      <td>unidentified</td>
      <td>[329.95417899999956, 330.01945899999953, 330.07061899999957, 330.1605389999996, 330.19749899999954, 330.25033899999954, 330.3272989999995, 330.4255789999996, 330.50769899999955, 330.56533899999954, 330.6544589999996, 330.67681899999957, 330.88049899999953, 331.12789899999956, 331.16241899999955, 331.83661899999953, 332.11609899999956, 332.21133899999955, 332.26629899999955, 332.29025899999954, 332.46317899999957, 332.5840989999996, 332.64813899999956, 332.67205899999954, 332.7318189999996, 332.85041899999953, 332.88953899999956, 332.91869899999955, 332.95189899999957, 333.27645899999953, 333.3234989999996, 333.4298989999996, 333.61673899999954, 333.6209789999996, 333.75233899999955, 333.77829899999955, 333.7805389999996, 333.79421899999954, 334.28205899999955, 334.46593899999954, 334.81589899999955, 334.83589899999953, 334.84221899999955, 335.07521899999955, 335.09905899999956, 335.34029899999956, 335.50417899999957, 335.54157899999956, 335.60637899999955, 336.23017899999957, 340.62930600000044, 340.8038660000004, 340.9015460000004, 341.0773060000004, 341.3530260000004, 341.5161860000004, 341.61046600000043, 341.6895860000004, 341.9116660000004, 341.9275060000004, 342.0619060000004, 342.20254600000044, 342.25106600000043, 342.36838600000044, 342.62282600000043, 342.8145060000004, 342.8201060000004, 342.87678600000044, 342.88090600000044, 342.9054660000004, 342.95326600000044, 343.12070600000044, 343.1307860000004, 343.2434260000004, 343.46078600000044, 343.5054660000004, 343.57054600000043, 343.9653460000004, 344.38054600000044, 344.4784260000004, 344.6781060000004, 344.68658600000043, 344.73442600000044, 344.7643860000004, 344.8727060000004, 344.9637860000004, 345.42818600000044, 345.5534660000004, 345.64610600000043, 345.9451060000004, 346.2581460000004, 346.59130600000043, 346.6327460000004, 346.72402600000044, 346.76662600000043, 346.7959860000004, 346.8223060000004, 346.8417860000004, 346.9655860000004, 346.9943060000004, ...]</td>
      <td>[9]</td>
    </tr>
    <tr>
      <th>3</th>
      <td>715.0</td>
      <td></td>
      <td>unidentified</td>
      <td>[329.94165899999956, 329.9998989999996, 330.00345899999957, 330.03741899999955, 330.08029899999957, 330.08541899999955, 330.18577899999957, 330.29097899999954, 330.30689899999953, 330.34997899999956, 330.41265899999956, 330.47921899999955, 330.50069899999954, 330.50661899999955, 330.5878589999996, 330.68321899999955, 330.71417899999955, 330.71877899999953, 331.01681899999954, 331.17033899999956, 331.18281899999954, 331.20917899999955, 331.28353899999956, 331.35097899999954, 331.54277899999954, 331.65309899999954, 331.7194589999996, 331.72581899999955, 331.7425789999996, 331.83385899999956, 331.9012589999996, 331.93197899999956, 331.93797899999953, 331.9941789999996, 331.99797899999953, 332.0042189999996, 332.0539789999996, 332.06657899999954, 332.13309899999956, 332.15777899999955, 332.2253789999996, 332.23561899999953, 332.31165899999957, 332.34281899999957, 332.42121899999955, 332.80737899999957, 332.9318589999996, 332.94913899999955, 333.0384189999996, 333.09549899999956, 333.12709899999953, 333.13197899999955, 333.19449899999955, 333.19765899999953, 333.20181899999955, 333.21209899999957, 333.3145789999996, 333.38661899999954, 333.39009899999957, 333.45685899999955, 333.4814589999996, 333.51805899999954, 333.52369899999957, 333.54873899999956, 333.74897899999957, 333.83061899999956, 333.8632589999996, 333.88461899999953, 333.91165899999953, 333.92329899999953, 333.9359789999996, 334.01541899999955, 334.02293899999955, 334.0346589999996, 334.0434189999996, 334.05877899999956, 334.07917899999956, 334.09389899999957, 334.16957899999954, 334.18117899999953, 334.18549899999954, 334.20037899999954, 334.23077899999953, 334.24617899999953, 334.2576189999996, 334.26141899999953, 334.2646189999995, 334.29097899999954, 334.29865899999953, 334.3140189999996, 334.31733899999955, 334.32433899999955, 334.3342589999996, 334.33705899999956, 334.34025899999955, 334.35117899999955, 334.3618589999996, 334.3729389999996, 334.38613899999956, 334.38909899999953, ...]</td>
      <td>[11]</td>
    </tr>
    <tr>
      <th>4</th>
      <td>715.0</td>
      <td>[]</td>
      <td>unidentified</td>
      <td>[329.93145899999956, 330.7492189999995, 330.77609899999953, 331.0661789999996, 331.06997899999953, 331.09685899999954, 331.1245389999996, 331.1362189999995, 331.14481899999953, 331.1557389999995, 331.47601899999955, 331.81585899999953, 331.8184989999996, 331.86241899999953, 331.87153899999953, 332.1306589999996, 332.13497899999953, 332.15073899999953, 332.15653899999955, 332.1691389999996, 332.1954589999996, 332.20829899999956, 332.21753899999953, 332.23481899999956, 332.24049899999955, 332.26265899999953, 332.27441899999957, 332.2848189999996, 332.3197389999996, 332.34649899999954, 332.34889899999956, 332.3622189999995, 332.3704589999995, 332.3782989999996, 332.39073899999954, 332.40185899999955, 332.43193899999955, 332.5068989999996, 332.5142589999996, 332.60165899999953, 332.62037899999956, 332.68753899999956, 332.76057899999955, 332.76877899999954, 332.80445899999955, 333.1094989999996, 333.18697899999955, 333.24425899999954, 333.31001899999956, 333.33757899999955, 333.73385899999954, 333.77717899999953, 333.81729899999954, 333.91561899999954, 333.94353899999953, 333.95481899999953, 333.96269899999953, 333.97665899999953, 333.99361899999957, 334.0659789999996, 334.13913899999955, 334.15669899999955, 334.16337899999957, 334.1711389999995, 334.19177899999954, 334.22253899999953, 334.24173899999954, 334.4456589999996, 334.45313899999957, 334.46145899999954, 334.48425899999955, 334.5070989999995, 334.5260589999996, 334.54673899999955, 334.55181899999957, 334.55985899999956, 334.56733899999955, 334.58697899999953, 334.60297899999955, 334.70257899999956, 334.72309899999954, 334.74245899999954, 334.7620989999996, 335.02689899999956, 336.20833899999957, 340.8186260000004, 341.2873460000004, 341.4092260000004, 341.45450600000044, 341.68606600000044, 341.7645460000004, 341.8113860000004, 341.84330600000044, 342.34042600000043, 342.4945860000004, 342.51358600000043, 343.3755060000004, 344.4470260000004, 344.45342600000043, 344.6145460000004, ...]</td>
      <td>[11]</td>
    </tr>
  </tbody>
</table><p>... and 75 more rows.</p></details></details><div style="margin-left: 0px;" class="container-fields"><span class="field-key" title=".experiment_description">experiment_description: </span><span class="field-value">Extracellular electrophysiology recordings performed on mouse anterior lateral motor cortex (ALM) in delay response task. Neural activity from two neuron populations, pyramidal track upper and lower, were characterized, in relation to movement execution.</span></div><div style="margin-left: 0px;" class="container-fields"><span class="field-key" title=".institution">institution: </span><span class="field-value">Janelia Research Campus</span></div></div></div></div>
</div>
<div class="alert alert-success"><b>Task</b>: Look through the file above by clicking on the sideways black triangles to drop down different levels of the file structure. What's there that might be interesting to analyze?</div></section>
<section id="step-3-access-information-within-the-nwb-file-hierarchy">
<h2>Step 3. Access Information within the NWB File Hierarchy<a class="headerlink" href="#step-3-access-information-within-the-nwb-file-hierarchy" title="Link to this heading">#</a></h2>
<p>One of the first steps when working with a new dataset is to figure out what is in the dataset, and where. Each NWB file is composed of various groups, which either contain attributes of our file (<strong>metadata</strong>) or the data itself.</p>
<div class="alert alert-info"><b>Metadata</b> is a common term to describe all of the information about an experiment. This could include everything from when the experiment was conducted, the ID of the subject (animal, human, goblin, etc.), the equipment details, etc. In essence, the metadata provides the context of the experiment. This is one of the first things you should review when you’re encountering a new dataset.</div>
<p>Here is the structure of a typical NWB file:</p>
<p><img alt="NWB_file_structure.png" src="../_images/NWB_file_structure.png" /></p>
<p>In order to see which groups are in our file, we can use the <code class="docutils literal notranslate"><span class="pre">fields</span></code> attribute to return a dictionary containing the Groups of our NWB file. The dictionary <strong>keys</strong> are the various groups within the file which we will use to access the data we’re ultimately interested in.</p>
<blockquote>
<div><p>Need a refresher on dictionaries? Consider working through the free <a class="reference external" href="https://www.codecademy.com/enrolled/courses/learn-python-3">Codecademy Python 3 lesson</a>, or check the other resources on the <a class="reference external" href="https://nwb4edu.github.io/Data_Science_In_Python/Introduction.html">Data Science in Python</a> page.</p>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the Groups for the nwb file </span>
<span class="n">nwb_fields</span> <span class="o">=</span> <span class="n">nwb_file</span><span class="o">.</span><span class="n">fields</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nwb_fields</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dict_keys([&#39;session_description&#39;, &#39;identifier&#39;, &#39;session_start_time&#39;, &#39;timestamps_reference_time&#39;, &#39;file_create_date&#39;, &#39;experimenter&#39;, &#39;related_publications&#39;, &#39;acquisition&#39;, &#39;keywords&#39;, &#39;electrodes&#39;, &#39;electrode_groups&#39;, &#39;devices&#39;, &#39;intervals&#39;, &#39;subject&#39;, &#39;trials&#39;, &#39;units&#39;, &#39;experiment_description&#39;, &#39;institution&#39;])
</pre></div>
</div>
</div>
</div>
<section id="experiment-metadata">
<h3>Experiment Metadata<a class="headerlink" href="#experiment-metadata" title="Link to this heading">#</a></h3>
<p>Let’s first pull out some metadata for the experiment we downloaded.</p>
<p>If you wish to access the related publications of the experimental data that you just downloaded, you can do so by accessing the <code class="docutils literal notranslate"><span class="pre">related_publications</span></code> attribute of your NWB file object. Plug in the “doi:” address that prints below into a browser window to check out the original publication describing this data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print the related publication</span>
<span class="n">nwb_file</span><span class="o">.</span><span class="n">related_publications</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;doi:10.1038/s41586-018-0642-9&#39;,)
</pre></div>
</div>
</div>
</div>
<p>Each NWB file will also have information on where the experiment was conducted, which lab conducted the experiment, as well as a description of the experiment. This information can be accessed using <code class="docutils literal notranslate"><span class="pre">institution</span></code>, <code class="docutils literal notranslate"><span class="pre">lab</span></code>, and <code class="docutils literal notranslate"><span class="pre">experiment_description</span></code>, attributes on our nwb_file, respectively.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get metadata from NWB file </span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The experiment within this NWB file was conducted at&#39;</span><span class="p">,</span><span class="n">nwb_file</span><span class="o">.</span><span class="n">institution</span><span class="p">,</span><span class="s1">&#39;.&#39;</span>\
      <span class="p">,</span><span class="n">nwb_file</span><span class="o">.</span><span class="n">experiment_description</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The experiment within this NWB file was conducted at Janelia Research Campus . Extracellular electrophysiology recordings performed on mouse anterior lateral motor cortex (ALM) in delay response task. Neural activity from two neuron populations, pyramidal track upper and lower, were characterized, in relation to movement execution.
</pre></div>
</div>
</div>
</div>
<p>As you might have noticed at this point, we can access datasets from each group in our nwb_file with the following syntax: <code class="docutils literal notranslate"><span class="pre">nwb_file.GROUPNAME</span></code>, just as we would typically access an attribute of object in Python. Below we will demonstrate some of the most useful groups within an NWB object.</p>
</section>
<section id="acquisition">
<h3>Acquisition<a class="headerlink" href="#acquisition" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">acquisition</span></code> group contains datasets of acquisition data, mainly <code class="docutils literal notranslate"><span class="pre">TimeSeries</span></code> objects belonging to this NWBFile.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nwb_file</span><span class="o">.</span><span class="n">acquisition</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;lick_times&#39;: lick_times pynwb.behavior.BehavioralEvents at 0x4547669664
 Fields:
   time_series: {
     lick_left_times &lt;class &#39;pynwb.base.TimeSeries&#39;&gt;,
     lick_right_times &lt;class &#39;pynwb.base.TimeSeries&#39;&gt;
   }}
</pre></div>
</div>
</div>
</div>
<p>In this file, the acquisition group contains one dataset, <code class="docutils literal notranslate"><span class="pre">lick_times</span></code>. This dataset has one field, <code class="docutils literal notranslate"><span class="pre">time_series</span></code>, which contains two time series objects, <code class="docutils literal notranslate"><span class="pre">lick_left_times</span></code> and <code class="docutils literal notranslate"><span class="pre">lick_right_times</span></code>. To access the actual data arrays of these objects we must first subset our dataset of interest from the group. We can then use <code class="docutils literal notranslate"><span class="pre">timestamps[:]</span></code> to return a list of timestamps for when the animal licked.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># select our dataset of interest </span>
<span class="n">dataset</span> <span class="o">=</span> <span class="s1">&#39;lick_times&#39;</span>
<span class="n">field</span> <span class="o">=</span> <span class="s1">&#39;lick_right_times&#39;</span>

<span class="n">lick_r_dataset</span> <span class="o">=</span> <span class="n">nwb_file</span><span class="o">.</span><span class="n">acquisition</span><span class="p">[</span><span class="n">dataset</span><span class="p">][</span><span class="n">field</span><span class="p">]</span>

<span class="c1"># return the first 10 values in data array </span>
<span class="n">lick_r_data_array</span> <span class="o">=</span> <span class="n">lick_r_dataset</span><span class="o">.</span><span class="n">timestamps</span><span class="p">[:</span><span class="mi">10</span><span class="p">][:</span><span class="mi">10</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">lick_r_data_array</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[336.727461 336.898631 337.144963 337.223463 338.218792 338.579457
 338.927119 338.959289 339.451954 339.587953]
</pre></div>
</div>
</div>
</div>
</section>
<section id="intervals">
<h3>Intervals<a class="headerlink" href="#intervals" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">intervals</span></code> group contains all time interval tables from the experiment – things like, did the animal respond on the behavioral trial? Usefully, we can take <code class="docutils literal notranslate"><span class="pre">intervals</span></code> and convert it to a tidy dataframe using <code class="docutils literal notranslate"><span class="pre">to_dataframe()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Select the group of interest from the nwb file </span>
<span class="n">intervals</span> <span class="o">=</span> <span class="n">nwb_file</span><span class="o">.</span><span class="n">intervals</span>

<span class="c1"># Pull out trials and assign it as a dataframe</span>
<span class="n">interval_trials_df</span> <span class="o">=</span> <span class="n">intervals</span><span class="p">[</span><span class="s1">&#39;trials&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>
<span class="n">interval_trials_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>start_time</th>
      <th>stop_time</th>
      <th>type</th>
      <th>response</th>
      <th>stim_present</th>
      <th>is_good</th>
      <th>cue_start_time</th>
      <th>pole_in_time</th>
      <th>pole_out_time</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>323.171</td>
      <td>NaN</td>
      <td>lick right</td>
      <td>early lick</td>
      <td>0</td>
      <td>1</td>
      <td>7.49698</td>
      <td>3.93949</td>
      <td>5.12748</td>
    </tr>
    <tr>
      <th>2</th>
      <td>329.570</td>
      <td>NaN</td>
      <td>lick right</td>
      <td>early lick</td>
      <td>0</td>
      <td>1</td>
      <td>11.81280</td>
      <td>4.94181</td>
      <td>5.94198</td>
    </tr>
    <tr>
      <th>3</th>
      <td>335.971</td>
      <td>NaN</td>
      <td>lick right</td>
      <td>incorrect</td>
      <td>0</td>
      <td>1</td>
      <td>6.62964</td>
      <td>4.12915</td>
      <td>5.12931</td>
    </tr>
    <tr>
      <th>4</th>
      <td>342.371</td>
      <td>NaN</td>
      <td>lick right</td>
      <td>incorrect</td>
      <td>0</td>
      <td>1</td>
      <td>6.41964</td>
      <td>3.91915</td>
      <td>4.91931</td>
    </tr>
    <tr>
      <th>5</th>
      <td>348.289</td>
      <td>NaN</td>
      <td>lick right</td>
      <td>incorrect</td>
      <td>0</td>
      <td>1</td>
      <td>12.66990</td>
      <td>10.16930</td>
      <td>11.16950</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>In case you’re wondering what these columns are, the <code class="docutils literal notranslate"><span class="pre">description</span></code> attribute provides a short description on each column of the dataframe.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># return the description of each col in our dataframe</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">interval_trials_df</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">col</span><span class="p">,</span><span class="s1">&#39;:&#39;</span><span class="p">,</span><span class="n">intervals</span><span class="p">[</span><span class="s1">&#39;trials&#39;</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>start_time : Start time of epoch, in seconds
stop_time : Stop time of epoch, in seconds
type : 
response : 
stim_present : is this a stim or no-stim trial
is_good : good/bad status of trial (bad trials are not analyzed)
cue_start_time : onset of response period
pole_in_time : onset of sample period
pole_out_time : onset of the delay period
</pre></div>
</div>
</div>
</div>
</section>
<section id="units">
<h3>Units<a class="headerlink" href="#units" title="Link to this heading">#</a></h3>
<p>But wait, where’s all of the neural data? The <code class="docutils literal notranslate"><span class="pre">units</span></code> group in our NWB file contains the processed signals from our individual neurons (<strong>units</strong>), including information about the spike sorting quality as well as the spike times – when each of these cells fired an action potential. Much like the <code class="docutils literal notranslate"><span class="pre">intervals</span></code> group, <code class="docutils literal notranslate"><span class="pre">units</span></code> can also be assigned to a dataframe.</p>
<div class="alert alert-info"><b>Why "units"?</b> In extracellular electrophysiology, we aren't recording *directly* from neurons. Instead, we're recording from the space around many neurons. As a result, researchers need to take the recorded voltage streams and determine which spikes in voltage originated in different neurons. This process is called <b>spike sorting</b> (discussed in detail in a future lesson!). Although we can do spike sorting fairly automatically and be fairly confident that we've correctly identified different neurons, we can't know *with complete confidence*. So, researchers tend to call "neurons" in extracellular recordings "units," reflecting that we *think* it's a separate neuron, but don't know for sure. You'll also see "multi-unit activity" (MUA) in some papers, in which case the researchers were unable to separate single neurons.</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">units</span> <span class="o">=</span> <span class="n">nwb_file</span><span class="o">.</span><span class="n">units</span>
<span class="n">units_df</span> <span class="o">=</span> <span class="n">units</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>
<span class="n">units_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>depth</th>
      <th>quality</th>
      <th>cell_type</th>
      <th>spike_times</th>
      <th>electrodes</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>665.0</td>
      <td>Poor</td>
      <td>unidentified</td>
      <td>[933.873288, 948.2774710000008, 950.5357110000...</td>
      <td>x    y    z  imp                        ...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>665.0</td>
      <td>Fair</td>
      <td>unidentified</td>
      <td>[329.95417899999956, 330.01945899999953, 330.0...</td>
      <td>x    y    z  imp                        ...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>715.0</td>
      <td></td>
      <td>unidentified</td>
      <td>[329.94165899999956, 329.9998989999996, 330.00...</td>
      <td>x    y    z  imp                        ...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>715.0</td>
      <td>[]</td>
      <td>unidentified</td>
      <td>[329.93145899999956, 330.7492189999995, 330.77...</td>
      <td>x    y    z  imp                        ...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>715.0</td>
      <td>Fair</td>
      <td>unidentified</td>
      <td>[331.09961899999956, 332.14505899999955, 333.3...</td>
      <td>x    y    z  imp                        ...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>If we’d like to know where these spikes are coming from, we can look at the <code class="docutils literal notranslate"><span class="pre">electrodes</span></code> attribute. The <code class="docutils literal notranslate"><span class="pre">electrodes</span></code> group contains metadata about the electrodes used in the experiment, including the location of the electrodes, the type of filtering done on that channel, and which electrode group the electrode belongs to.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># electrode positions </span>
<span class="n">electrodes</span> <span class="o">=</span> <span class="n">nwb_file</span><span class="o">.</span><span class="n">electrodes</span>
<span class="n">electrodes_df</span> <span class="o">=</span> <span class="n">electrodes</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>
<span class="n">electrodes_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>z</th>
      <th>imp</th>
      <th>location</th>
      <th>filtering</th>
      <th>group</th>
      <th>group_name</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-1.0</td>
      <td>brain_region: ALM; brain_subregion: N/A; corti...</td>
      <td>Bandpass filtered 300-6K Hz</td>
      <td>H-129: 64 pynwb.ecephys.ElectrodeGroup at 0x45...</td>
      <td>H-129: 64</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-1.0</td>
      <td>brain_region: ALM; brain_subregion: N/A; corti...</td>
      <td>Bandpass filtered 300-6K Hz</td>
      <td>H-129: 64 pynwb.ecephys.ElectrodeGroup at 0x45...</td>
      <td>H-129: 64</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-1.0</td>
      <td>brain_region: ALM; brain_subregion: N/A; corti...</td>
      <td>Bandpass filtered 300-6K Hz</td>
      <td>H-129: 64 pynwb.ecephys.ElectrodeGroup at 0x45...</td>
      <td>H-129: 64</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-1.0</td>
      <td>brain_region: ALM; brain_subregion: N/A; corti...</td>
      <td>Bandpass filtered 300-6K Hz</td>
      <td>H-129: 64 pynwb.ecephys.ElectrodeGroup at 0x45...</td>
      <td>H-129: 64</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-1.0</td>
      <td>brain_region: ALM; brain_subregion: N/A; corti...</td>
      <td>Bandpass filtered 300-6K Hz</td>
      <td>H-129: 64 pynwb.ecephys.ElectrodeGroup at 0x45...</td>
      <td>H-129: 64</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Wondering what something in this table is? We can once again dig out the descriptions:</p>
<blockquote>
<div><p>Not sure what’s happening below? Consider working through the <a class="reference external" href="https://www.codecademy.com/enrolled/courses/learn-python-3">Codecademy Python 3 course</a> for a refresher on for loops.</p>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># return the description of each col in our dataframe</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">electrodes_df</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">col</span><span class="p">,</span><span class="s1">&#39;:&#39;</span><span class="p">,</span><span class="n">nwb_file</span><span class="o">.</span><span class="n">electrodes</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x : the x coordinate of the channel location
y : the y coordinate of the channel location
z : the z coordinate of the channel location
imp : the impedance of the channel
location : the location of channel within the subject e.g. brain region
filtering : description of hardware filtering
group : a reference to the ElectrodeGroup this electrode is a part of
group_name : the name of the ElectrodeGroup this electrode is a part of
</pre></div>
</div>
</div>
</div>
<p>Now that we have an idea of what this file contains, we can finally take a look at some of the data! We’ll do that in the next section. 💃</p>
<hr>
</section>
</section>
<section id="additional-resources">
<h2>Additional Resources<a class="headerlink" href="#additional-resources" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>For a detailed explanation of all groups contained within an NWB File object please visit the <a href = 'https://pynwb.readthedocs.io/en/stable/pynwb.file.html'>pynwb.file.NWBFile</a> section of the PyNWB documentation.</p></li>
<li><p>The <a class="reference external" href="https://alleninstitute.github.io/openscope_databook/basics/read_nwb.html">OpenScope DataBook</a> also contains explanations of what is contained within NWB files.</p></li>
<li><p>Accessing metadata for different kinds of NWB files can be tricky. <a class="reference external" href="https://alleninstitute.github.io/openscope_databook/basics/get_dandiset_metadata.html">Here are some useful helper scripts</a> from the OpenScope DataBook.</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "nwb4edu/nwb4edu.github.io",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Lesson_1"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="01-Obtaining_Datasets_with_DANDI.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Obtaining Datasets with DANDI</p>
      </div>
    </a>
    <a class="right-next"
       href="03-Interactive_NWB_Data_Exploration.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Interactive NWB Data Exploration</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-setup">Step 1. Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-read-the-nwb-file">Step 2. Read the NWB file</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-access-information-within-the-nwb-file-hierarchy">Step 3. Access Information within the NWB File Hierarchy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#experiment-metadata">Experiment Metadata</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#acquisition">Acquisition</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#intervals">Intervals</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#units">Units</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-resources">Additional Resources</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>